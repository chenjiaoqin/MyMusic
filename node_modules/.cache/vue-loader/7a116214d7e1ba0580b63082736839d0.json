{"remainingRequest":"F:\\cjq\\my-music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\cjq\\my-music\\src\\base\\suggest\\suggest.vue?vue&type=style&index=0&id=2954e294&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&","dependencies":[{"path":"F:\\cjq\\my-music\\src\\base\\suggest\\suggest.vue","mtime":1604497590674},{"path":"F:\\cjq\\my-music\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\cjq\\my-music\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\cjq\\my-music\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\cjq\\my-music\\node_modules\\stylus-loader\\index.js","mtime":1519606876000},{"path":"F:\\cjq\\my-music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\cjq\\my-music\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgIn5AL2NvbW1vbi9zdHlsdXMvdmFyaWFibGUiCkBpbXBvcnQgIn5AL2NvbW1vbi9zdHlsdXMvbWl4aW4iCgouc3VnZ2VzdAogIGhlaWdodDogMTAwJQogIG92ZXJmbG93OiBoaWRkZW4KICAuc3VnZ2VzdC1saXN0CiAgICBwYWRkaW5nOiAwIDMwcHgKICAgIC5zdWdnZXN0LWl0ZW0KICAgICAgZGlzcGxheTogZmxleAogICAgICBhbGlnbi1pdGVtczogY2VudGVyCiAgICAgIHBhZGRpbmctYm90dG9tOiAyMHB4CiAgICAuaWNvbgogICAgICBmbGV4OiAwIDAgMzBweAogICAgICB3aWR0aDogMzBweAogICAgICBbY2xhc3NePSJpY29uLSJdCiAgICAgICAgZm9udC1zaXplOiAxNHB4CiAgICAgICAgY29sb3I6ICRjb2xvci10ZXh0LWQKICAgIC5uYW1lCiAgICAgIGZsZXg6IDEKICAgICAgZm9udC1zaXplOiAkZm9udC1zaXplLW1lZGl1bQogICAgICBjb2xvcjogJGNvbG9yLXRleHQtZAogICAgICBvdmVyZmxvdzogaGlkZGVuCiAgICAgIC50ZXh0CiAgICAgICAgbm8td3JhcCgpCiAgLm5vLXJlc3VsdC13cmFwcGVyCiAgICBwb3NpdGlvbjogYWJzb2x1dGUKICAgIHdpZHRoOiAxMDAlCiAgICB0b3A6IDUwJQogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpCg=="},{"version":3,"sources":["suggest.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"suggest.vue","sourceRoot":"src/base/suggest","sourcesContent":["<template>\r\n<div>\r\n   <ul class=\"suggest-list\">\r\n      <li class=\"suggest-item\" >\r\n        <div class=\"icon\">\r\n          \r\n        </div>\r\n        <div class=\"name\">\r\n          <p class=\"text\"></p>\r\n        </div>\r\n      </li>\r\n    </ul>     \r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {searchQuery} from 'api/search'\r\nimport {createSong,processSongsUrl} from 'common/js/song'\r\nimport {ERR_OK} from 'api/config';\r\n\r\n\r\nconst SINGER='singer'\r\n\r\n\r\nexport default {\r\n  components: {},\r\n  props: {\r\n    perpage:{\r\n        type:Number,\r\n        defaule:20\r\n    },\r\n    showSinger:{\r\n        type:Boolean,\r\n        default:false\r\n    },\r\n    query:{\r\n        type:String,\r\n        default:''\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n        page:1,\r\n    };\r\n  },\r\n  watch: {},\r\n  computed: {},\r\n  methods: {\r\n       _searchQuery(){\r\n        searchQuery(this.query,this.page,20,true).then((res)=>{\r\n            if(res.code===ERR_OK){\r\n                this.searchList=this.normalSize(res.data)\r\n                console.log(this.searchList)\r\n            }\r\n        })\r\n      },\r\n      normalSize(data){\r\n          let arr=[]\r\n          if(data.zhida && data.zhida.singerid){\r\n          arr.push({...data.zhida,...{type:SINGER}})\r\n          return arr\r\n          }       \r\n          let ret=[]\r\n          let list=data.song.list\r\n          list.forEach((item)=> {\r\n            ret.push(createSong(item))                          \r\n          })\r\n          processSongsUrl(ret).then((songs)=>{\r\n              console.log(arr.concat(songs)   )\r\n \r\n          })           \r\n      }, \r\n  },\r\n  created() {\r\n       this.$watch('query',(newQuery)=>{\r\n          if(newQuery.trim().length===0){\r\n              return \r\n          }\r\n          this._searchQuery()\r\n        })     \r\n  },\r\n  mounted() {}\r\n};\r\n</script>\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\">\r\n  @import \"~@/common/stylus/variable\"\r\n  @import \"~@/common/stylus/mixin\"\r\n\r\n  .suggest\r\n    height: 100%\r\n    overflow: hidden\r\n    .suggest-list\r\n      padding: 0 30px\r\n      .suggest-item\r\n        display: flex\r\n        align-items: center\r\n        padding-bottom: 20px\r\n      .icon\r\n        flex: 0 0 30px\r\n        width: 30px\r\n        [class^=\"icon-\"]\r\n          font-size: 14px\r\n          color: $color-text-d\r\n      .name\r\n        flex: 1\r\n        font-size: $font-size-medium\r\n        color: $color-text-d\r\n        overflow: hidden\r\n        .text\r\n          no-wrap()\r\n    .no-result-wrapper\r\n      position: absolute\r\n      width: 100%\r\n      top: 50%\r\n      transform: translateY(-50%)\r\n</style>\r\n"]}]}