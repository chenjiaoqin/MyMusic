{"remainingRequest":"F:\\cjq\\my-music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\cjq\\my-music\\src\\base\\scroll\\scroll.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\cjq\\my-music\\src\\base\\scroll\\scroll.vue","mtime":1601974832000},{"path":"F:\\cjq\\my-music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\cjq\\my-music\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCU2Nyb2xsIGZyb20gJ2JldHRlci1zY3JvbGwnCgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHByb2JlVHlwZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0sCiAgICBjbGljazogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgZGF0YTogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDpbXQogICAgfSwKICAgIHB1bGx1cDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGJlZm9yZVNjcm9sbDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHJlZnJlc2hEZWxheTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDIwCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIHRoaXMuX2luaXRTY3JvbGwoKQogICAgfSwgMjApCiAgfSwKICBtZXRob2RzOiB7CiAgICBfaW5pdFNjcm9sbCgpIHsKICAgICAgaWYgKCF0aGlzLiRyZWZzLndyYXBwZXIpIHsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICB0aGlzLnNjcm9sbCA9IG5ldyBCU2Nyb2xsKHRoaXMuJHJlZnMud3JhcHBlciwgewogICAgICAgIHByb2JlVHlwZTogdGhpcy5wcm9iZVR5cGUsCiAgICAgICAgY2xpY2s6IHRoaXMuY2xpY2sKICAgICAgfSkKCiAgICAgICAgdGhpcy5zY3JvbGwub24oJ3Njcm9sbCcsIChwb3NpdGlvbikgPT4gewogICAgICAgICAgdGhpcy4kZW1pdCgnc2Nyb2xsJywgcG9zaXRpb24pCiAgICAgICAgfSkKCiAgICAgIGlmICh0aGlzLnB1bGx1cCkgewogICAgICAgIHRoaXMuc2Nyb2xsLm9uKCdzY3JvbGxFbmQnLCAoKSA9PiB7CiAgICAgICAgICBpZiAodGhpcy5zY3JvbGwueSA8PSAodGhpcy5zY3JvbGwubWF4U2Nyb2xsWSArIDUwKSkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCdzY3JvbGxUb0VuZCcpCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfQoKICAgICAgaWYgKHRoaXMuYmVmb3JlU2Nyb2xsKSB7CiAgICAgICAgdGhpcy5zY3JvbGwub24oJ2JlZm9yZVNjcm9sbFN0YXJ0JywgKCkgPT4gewogICAgICAgICAgdGhpcy4kZW1pdCgnYmVmb3JlU2Nyb2xsJykKICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgZGlzYWJsZSgpIHsKICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwuZGlzYWJsZSgpCiAgICB9LAogICAgZW5hYmxlKCkgewogICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5lbmFibGUoKQogICAgfSwKICAgIHJlZnJlc2goKSB7CiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLnJlZnJlc2goKQogICAgfSwKICAgIHNjcm9sbFRvKCkgewogICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5zY3JvbGxUby5hcHBseSh0aGlzLnNjcm9sbCwgYXJndW1lbnRzKQogICAgfSwKICAgIHNjcm9sbFRvRWxlbWVudCgpIHsKICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwuc2Nyb2xsVG9FbGVtZW50LmFwcGx5KHRoaXMuc2Nyb2xsLCBhcmd1bWVudHMpCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgZGF0YSgpIHsgLy8g55uR5ZCsZGF0YQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLnJlZnJlc2goKQogICAgICB9LCAyMCkgLy8gdHJhbnNpdGlvbiAxMDBtc++8jOW9seWTjeS6huiuoeeulwogICAgfQogIH0KfQo="},{"version":3,"sources":["scroll.vue"],"names":[],"mappings":";;;;;;;AAOA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"scroll.vue","sourceRoot":"src/base/scroll","sourcesContent":["<template>\n  <div ref=\"wrapper\" class=\"wrapper\">\n    <slot></slot>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import BScroll from 'better-scroll'\n\n  export default {\n    props: {\n      probeType: {\n        type: Number,\n        default: 1\n      },\n      click: {\n        type: Boolean,\n        default: true\n      },\n      data: {\n        type: Array,\n        default:[]\n      },\n      pullup: {\n        type: Boolean,\n        default: false\n      },\n      beforeScroll: {\n        type: Boolean,\n        default: false\n      },\n      refreshDelay: {\n        type: Number,\n        default: 20\n      }\n    },\n    mounted() {\n      setTimeout(() => {\n        this._initScroll()\n      }, 20)\n    },\n    methods: {\n      _initScroll() {\n        if (!this.$refs.wrapper) {\n          return\n        }\n        this.scroll = new BScroll(this.$refs.wrapper, {\n          probeType: this.probeType,\n          click: this.click\n        })\n\n          this.scroll.on('scroll', (position) => {\n            this.$emit('scroll', position)\n          })\n\n        if (this.pullup) {\n          this.scroll.on('scrollEnd', () => {\n            if (this.scroll.y <= (this.scroll.maxScrollY + 50)) {\n              this.$emit('scrollToEnd')\n            }\n          })\n        }\n\n        if (this.beforeScroll) {\n          this.scroll.on('beforeScrollStart', () => {\n            this.$emit('beforeScroll')\n          })\n        }\n      },\n      disable() {\n        this.scroll && this.scroll.disable()\n      },\n      enable() {\n        this.scroll && this.scroll.enable()\n      },\n      refresh() {\n        this.scroll && this.scroll.refresh()\n      },\n      scrollTo() {\n        this.scroll && this.scroll.scrollTo.apply(this.scroll, arguments)\n      },\n      scrollToElement() {\n        this.scroll && this.scroll.scrollToElement.apply(this.scroll, arguments)\n      }\n    },\n    watch: {\n      data() { // 监听data\n        setTimeout(() => {\n          this.refresh()\n        }, 20) // transition 100ms，影响了计算\n      }\n    }\n  }\n</script>\n\n<style scoped >\n.wrapper{\n  position:fixed;\n  top:88px;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  overflow: hidden;\n\n}\n</style>\n"]}]}