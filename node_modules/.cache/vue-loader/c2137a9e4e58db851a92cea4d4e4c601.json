{"remainingRequest":"F:\\bilibili\\vuejs资料和代码\\my-music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\bilibili\\vuejs资料和代码\\my-music\\src\\base\\scroll\\scroll.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\bilibili\\vuejs资料和代码\\my-music\\src\\base\\scroll\\scroll.vue","mtime":1533397743000},{"path":"F:\\bilibili\\vuejs资料和代码\\my-music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\bilibili\\vuejs资料和代码\\my-music\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCU2Nyb2xsIGZyb20gJ2JldHRlci1zY3JvbGwnCgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHByb2JlVHlwZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0sCiAgICBjbGljazogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgbGlzdGVuU2Nyb2xsOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgZGF0YTogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIHB1bGx1cDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGJlZm9yZVNjcm9sbDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHJlZnJlc2hEZWxheTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDIwCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIHRoaXMuX2luaXRTY3JvbGwoKQogICAgfSwgMjApCiAgfSwKICBtZXRob2RzOiB7CiAgICBfaW5pdFNjcm9sbCgpIHsKICAgICAgaWYgKCF0aGlzLiRyZWZzLndyYXBwZXIpIHsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICB0aGlzLnNjcm9sbCA9IG5ldyBCU2Nyb2xsKHRoaXMuJHJlZnMud3JhcHBlciwgewogICAgICAgIHByb2JlVHlwZTogdGhpcy5wcm9iZVR5cGUsCiAgICAgICAgY2xpY2s6IHRoaXMuY2xpY2sKICAgICAgfSkKCiAgICAgIGlmICh0aGlzLmxpc3RlblNjcm9sbCkgewogICAgICAgIGxldCBtZSA9IHRoaXMKICAgICAgICB0aGlzLnNjcm9sbC5vbignc2Nyb2xsJywgKHBvcykgPT4gewogICAgICAgICAgbWUuJGVtaXQoJ3Njcm9sbCcsIHBvcykKICAgICAgICB9KQogICAgICB9CgogICAgICBpZiAodGhpcy5wdWxsdXApIHsKICAgICAgICB0aGlzLnNjcm9sbC5vbignc2Nyb2xsRW5kJywgKCkgPT4gewogICAgICAgICAgaWYgKHRoaXMuc2Nyb2xsLnkgPD0gKHRoaXMuc2Nyb2xsLm1heFNjcm9sbFkgKyA1MCkpIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnc2Nyb2xsVG9FbmQnKQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmJlZm9yZVNjcm9sbCkgewogICAgICAgIHRoaXMuc2Nyb2xsLm9uKCdiZWZvcmVTY3JvbGxTdGFydCcsICgpID0+IHsKICAgICAgICAgIHRoaXMuJGVtaXQoJ2JlZm9yZVNjcm9sbCcpCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIGRpc2FibGUoKSB7CiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLmRpc2FibGUoKQogICAgfSwKICAgIGVuYWJsZSgpIHsKICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwuZW5hYmxlKCkKICAgIH0sCiAgICByZWZyZXNoKCkgewogICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5yZWZyZXNoKCkKICAgIH0sCiAgICBzY3JvbGxUbygpIHsKICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwuc2Nyb2xsVG8uYXBwbHkodGhpcy5zY3JvbGwsIGFyZ3VtZW50cykKICAgIH0sCiAgICBzY3JvbGxUb0VsZW1lbnQoKSB7CiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLnNjcm9sbFRvRWxlbWVudC5hcHBseSh0aGlzLnNjcm9sbCwgYXJndW1lbnRzKQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGRhdGEoKSB7IC8vIOebkeWQrGRhdGEKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5yZWZyZXNoKCkKICAgICAgfSwgdGhpcy5yZWZyZXNoRGVsYXkpIC8vIHRyYW5zaXRpb24gMTAwbXPvvIzlvbHlk43kuoborqHnrpcKICAgIH0KICB9Cn0K"},{"version":3,"sources":["scroll.vue"],"names":[],"mappings":";;;;;;;AAOA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"scroll.vue","sourceRoot":"src/base/scroll","sourcesContent":["<template>\n  <div ref=\"wrapper\">\n    <slot></slot>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import BScroll from 'better-scroll'\n\n  export default {\n    props: {\n      probeType: {\n        type: Number,\n        default: 1\n      },\n      click: {\n        type: Boolean,\n        default: true\n      },\n      listenScroll: {\n        type: Boolean,\n        default: false\n      },\n      data: {\n        type: Array,\n        default: null\n      },\n      pullup: {\n        type: Boolean,\n        default: false\n      },\n      beforeScroll: {\n        type: Boolean,\n        default: false\n      },\n      refreshDelay: {\n        type: Number,\n        default: 20\n      }\n    },\n    mounted() {\n      setTimeout(() => {\n        this._initScroll()\n      }, 20)\n    },\n    methods: {\n      _initScroll() {\n        if (!this.$refs.wrapper) {\n          return\n        }\n        this.scroll = new BScroll(this.$refs.wrapper, {\n          probeType: this.probeType,\n          click: this.click\n        })\n\n        if (this.listenScroll) {\n          let me = this\n          this.scroll.on('scroll', (pos) => {\n            me.$emit('scroll', pos)\n          })\n        }\n\n        if (this.pullup) {\n          this.scroll.on('scrollEnd', () => {\n            if (this.scroll.y <= (this.scroll.maxScrollY + 50)) {\n              this.$emit('scrollToEnd')\n            }\n          })\n        }\n\n        if (this.beforeScroll) {\n          this.scroll.on('beforeScrollStart', () => {\n            this.$emit('beforeScroll')\n          })\n        }\n      },\n      disable() {\n        this.scroll && this.scroll.disable()\n      },\n      enable() {\n        this.scroll && this.scroll.enable()\n      },\n      refresh() {\n        this.scroll && this.scroll.refresh()\n      },\n      scrollTo() {\n        this.scroll && this.scroll.scrollTo.apply(this.scroll, arguments)\n      },\n      scrollToElement() {\n        this.scroll && this.scroll.scrollToElement.apply(this.scroll, arguments)\n      }\n    },\n    watch: {\n      data() { // 监听data\n        setTimeout(() => {\n          this.refresh()\n        }, this.refreshDelay) // transition 100ms，影响了计算\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n\n</style>\n"]}]}