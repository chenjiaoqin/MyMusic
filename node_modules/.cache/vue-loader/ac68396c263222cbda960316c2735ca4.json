{"remainingRequest":"F:\\cjq\\my-music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\cjq\\my-music\\src\\components\\addSong\\addSong.vue?vue&type=style&index=0&id=e7237586&scoped=true&lang=css&","dependencies":[{"path":"F:\\cjq\\my-music\\src\\components\\addSong\\addSong.vue","mtime":1604908190192},{"path":"F:\\cjq\\my-music\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\cjq\\my-music\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\cjq\\my-music\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\cjq\\my-music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\cjq\\my-music\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouYWRkdG9saXN0ew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICB6LWluZGV4OiA0MDA7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIGxlZnQ6IDA7DQogICAgcmlnaHQ6IDA7DQogICAgYm90dG9tOiAwOw0KICAgIHRvcDogMDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTkxODE4Ow0KICAgIHBhZGRpbmc6IDEwcHggMjBweCAwIDIwcHg7DQoNCn0NCi5oZWFkZXJ7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBmb250LXNpemU6IDIwcHg7DQogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgbWFyZ2luLWJvdHRvbTogMTVweDsNCn0NCi5jbG9zZXsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgcmlnaHQ6IDE1cHg7DQp9IA0KLmhpc3Rvcnl7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIGhlaWdodDogNDBweDsNCiAgICB3aWR0aDogMTAwJTsgICANCiAgICBib3JkZXItcmFkaXVzOiA2cHg7DQogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzOw0KICAgIG1hcmdpbjozMHB4IDAgMjBweCAwOw0KfQ0KDQouc2VhcmNoew0KICAgIGZvbnQtc2l6ZTogMjRweDsNCiAgICBjb2xvcjogIzIyMjsNCn0NCmlucHV0ew0KICAgIGZsZXg6IDE7DQogICAgbWFyZ2luOiAwIDVweDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzOw0KICAgIGNvbG9yOiNmZmYgOw0KICAgIGZvbnQtc2l6ZToxNHB4IDsNCiAgICBvdXRsaW5lOiAwOw0KfQ0KLmRpc21pc3N7DQogICAgZm9udC1zaXplOiAxNnB4Ow0KICAgIGNvbG9yOiAjMjIyOw0KfQ0KLnBsYXloaXN0b3J5ew0KICAgIHdpZHRoOiAxMDAlOw0KICAgIG1hcmdpbi1sZWZ0OjY3cHg7DQp9DQoucGxheWhpc3Rvcnkgc3BhbnsNCiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICAgd2lkdGg6IDEwMHB4IDsNCiAgICBoZWlnaHQ6IDMwcHg7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIGxpbmUtaGVpZ2h0OiAzMHB4Ow0KICAgIGJvcmRlci1yYWRpdXM6IDVweDsNCiAgICBib3JkZXI6MXB4IHNvbGlkICMzNzNhM2EgOyANCn0NCi5saXN0LXdyYXBwZXJ7DQogICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgIGhlaWdodDogY2FsYyggMTAwdmggLSA4MHB4KSA7DQp9DQouaGlzdG9yeWxpc3R7DQogICAgdG9wOiAyMHB4Ow0KfQ0KLnRpcC10aXRsZXsNCiAgICB0ZXh0LWFsaWduOmNlbnRlcjsNCiAgICBsaW5lLWhlaWdodDogMzBweDsgICANCn0NCi50aXAtdGl0bGUgLnRleHR7DQogICAgZm9udC1zaXplOjE2cHg7DQogICAgY29sb3I6IzIyMjsNCn0NCg=="},{"version":3,"sources":["addSong.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addSong.vue","sourceRoot":"src/components/addSong","sourcesContent":["<template>\r\n<div v-show=\"showFlag\" class=\"addtolist\" @click.stop>\r\n    <div class=\"header\">\r\n        <div>添加歌曲到列表</div>\r\n        <div @click=\"close\"><svg-icon  icon-class=\"close\" class-name=\"close\" ></svg-icon></div>\r\n    </div>\r\n    <div class=\"history\">\r\n        <svg-icon icon-class=\"search\" class-name=\"search\"></svg-icon>\r\n        <suggest v-show=\"query.length>0\" :showSinger='false' :perpage=\"25\" :query=\"query\" @select=\"selectSuggest\" ></suggest>        \r\n        <input ref=\"input\" v-model=\"query\" :placeholder=\"placeholder\" type=\"text\">\r\n        <div @click=\"clear\"><svg-icon  v-show=\"query\" icon-class=\"close\" class-name=\"dismiss\"></svg-icon></div>\r\n    </div>\r\n    <div v-show=\"query.length===0\">\r\n        <switches @switched=\"switched\" :switches=\"switches\" :currentIndex=\"currentIndex\"></switches>\r\n        <div class=\"list-wrapper\">\r\n           <scroll v-if=\"currentIndex===0\" ref=\"songlist\" :data=\"historyList\" class=\"historylist\"  >\r\n              <song-list :songs=\"historyList\"  @select=\"selectSong\" ></song-list>\r\n          </scroll>\r\n          <scroll v-if=\"currentIndex===1\" ref=\"search\" class=\"historylist\" :data=\"searchHistory\" >\r\n            <search-list @delete=\"deleteSearch\" @select=\"addQuery\"  :searchHistory=\"searchHistory\"></search-list>\r\n          </scroll>\r\n        </div>\r\n    </div>\r\n    <top-tip ref=\"toptip\">\r\n        <div class=\"tip-title\">\r\n          <span class=\"text\">1首歌曲已经添加到播放列表</span>\r\n        </div>\r\n    </top-tip>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport SongList from 'base/song-list/song-list'\r\nimport {mapGetters,mapActions} from 'vuex'\r\nimport Scroll from 'base/scroll/scroll'\r\nimport Song from 'common/js/song'\r\nimport Switches from 'base/switches/switches'\r\nimport Suggest from 'base/suggest/suggest'\r\nimport SearchList from 'base/search-list/search-list'\r\nimport TopTip from 'base/top-tip/top-tip'\r\n\r\n\r\n\r\nexport default {\r\n  components: {\r\n      SongList,\r\n      Scroll,\r\n      Switches,\r\n      Suggest,\r\n      SearchList,\r\n      TopTip\r\n  },\r\n  props: {\r\n      placeholder:{\r\n          type:String,\r\n          default:'搜索歌曲',\r\n\r\n      }\r\n  },\r\n  data() {\r\n    return {\r\n        showFlag:false,\r\n        query:'',\r\n        currentIndex:0,\r\n        switches: [{name:'最近播放'},{name:'搜索历史'} ],\r\n    };\r\n  },\r\n\r\n  computed: {\r\n      ...mapGetters(['historyList','searchHistory'])\r\n  },\r\n  methods: {\r\n      ...mapActions(['insertSong','deleteSearchHistory','savesearchHistory']),\r\n      addQuery(query){\r\n          this.query=query\r\n      },\r\n      deleteSearch(query){\r\n          this.deleteSearchHistory(query)\r\n      },\r\n      selectSong(song){       \r\n          this.insertSong(song)\r\n          this.$refs.toptip.show()\r\n      },\r\n      switched(index){\r\n          this.currentIndex=index\r\n      },\r\n      close(){\r\n          this.showFlag=false\r\n      },\r\n      clear(){\r\n          this.query=''\r\n      },\r\n      show(){\r\n          this.showFlag=true        \r\n      },\r\n      selectSuggest(item){\r\n          this.$refs.toptip.show()\r\n          this.insertSong(item)\r\n      },\r\n      refreshList() { // 重新计算，列表的滚动\r\n        setTimeout(() => {\r\n          if (this.currentIndex === 0) {\r\n            this.$refs.songlist.refresh()\r\n          } else {\r\n            this.$refs.search.refresh()\r\n          }\r\n        }, 30)\r\n      },\r\n  },\r\n  updated(){\r\n      this.refreshList()\r\n  },\r\n  created() {\r\n\r\n  },\r\n  mounted() {\r\n      \r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.addtolist{\r\n    position: absolute;\r\n    z-index: 400;\r\n    height: 100%;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    top: 0;\r\n    background-color: #191818;\r\n    padding: 10px 20px 0 20px;\r\n\r\n}\r\n.header{\r\n    display: flex;\r\n    font-size: 20px;\r\n    justify-content: center;\r\n    margin-bottom: 15px;\r\n}\r\n.close{\r\n    position: absolute;\r\n    right: 15px;\r\n} \r\n.history{\r\n    display: flex;\r\n    align-items: center;\r\n    height: 40px;\r\n    width: 100%;   \r\n    border-radius: 6px;\r\n    box-sizing: border-box;\r\n    background-color: #333;\r\n    margin:30px 0 20px 0;\r\n}\r\n\r\n.search{\r\n    font-size: 24px;\r\n    color: #222;\r\n}\r\ninput{\r\n    flex: 1;\r\n    margin: 0 5px;\r\n    background-color: #333;\r\n    color:#fff ;\r\n    font-size:14px ;\r\n    outline: 0;\r\n}\r\n.dismiss{\r\n    font-size: 16px;\r\n    color: #222;\r\n}\r\n.playhistory{\r\n    width: 100%;\r\n    margin-left:67px;\r\n}\r\n.playhistory span{\r\n    display: inline-block;\r\n    width: 100px ;\r\n    height: 30px;\r\n    text-align: center;\r\n    line-height: 30px;\r\n    border-radius: 5px;\r\n    border:1px solid #373a3a ; \r\n}\r\n.list-wrapper{\r\n    position: relative;\r\n    height: calc( 100vh - 80px) ;\r\n}\r\n.historylist{\r\n    top: 20px;\r\n}\r\n.tip-title{\r\n    text-align:center;\r\n    line-height: 30px;   \r\n}\r\n.tip-title .text{\r\n    font-size:16px;\r\n    color:#222;\r\n}\r\n</style>\r\n"]}]}