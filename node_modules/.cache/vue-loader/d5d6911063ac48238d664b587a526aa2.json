{"remainingRequest":"F:\\cjq\\my-music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\cjq\\my-music\\src\\components\\addSong\\addSong.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\cjq\\my-music\\src\\components\\addSong\\addSong.vue","mtime":1604488176667},{"path":"F:\\cjq\\my-music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\cjq\\my-music\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgU29uZ0xpc3QgZnJvbSAnYmFzZS9zb25nLWxpc3Qvc29uZy1saXN0Jw0KaW1wb3J0IHttYXBHZXR0ZXJzLG1hcEFjdGlvbnN9IGZyb20gJ3Z1ZXgnDQppbXBvcnQgU2Nyb2xsIGZyb20gJ2Jhc2Uvc2Nyb2xsL3Njcm9sbCcNCmltcG9ydCBTb25nIGZyb20gJ2NvbW1vbi9qcy9zb25nJw0KaW1wb3J0IFN3aXRjaGVzIGZyb20gJ2Jhc2Uvc3dpdGNoZXMvc3dpdGNoZXMnDQppbXBvcnQgU3VnZ2VzdCBmcm9tICdiYXNlL3N1Z2dlc3Qvc3VnZ2VzdCcNCg0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICAgIFNvbmdMaXN0LA0KICAgICAgU2Nyb2xsLA0KICAgICAgU3dpdGNoZXMsDQogICAgICBTdWdnZXN0DQogIH0sDQogIHByb3BzOiB7DQogICAgICBwbGFjZWhvbGRlcjp7DQogICAgICAgICAgdHlwZTpTdHJpbmcsDQogICAgICAgICAgZGVmYXVsdDon5pCc57Si5q2M5puy44CB5q2M5omLJywNCg0KICAgICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAgIHNob3dGbGFnOmZhbHNlLA0KICAgICAgICBxdWVyeTonJywNCiAgICAgICAgY3VycmVudEluZGV4OjAsDQogICAgICAgIHN3aXRjaGVzOiBbe25hbWU6J+acgOi/keaSreaUvid9LHtuYW1lOifmkJzntKLljoblj7InfSBdLA0KICAgICAgICBzZWFyY2hMaXN0OltdDQogICAgfTsNCiAgfSwNCiAgd2F0Y2g6IHt9LA0KICBjb21wdXRlZDogew0KICAgICAgLi4ubWFwR2V0dGVycyhbJ2hpc3RvcnlMaXN0J10pDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAgIC4uLm1hcEFjdGlvbnMoWydpbnNlcnRTb25nJ10pLA0KICAgICAgc2VsZWN0U29uZyhzb25nKXsgICAgICAgDQogICAgICAgICAgdGhpcy5pbnNlcnRTb25nKHNvbmcpDQogICAgICB9LA0KICAgICAgc3dpdGNoZWQoaW5kZXgpew0KICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4PWluZGV4DQogICAgICB9LA0KICAgICAgY2xvc2UoKXsNCiAgICAgICAgICB0aGlzLnNob3dGbGFnPWZhbHNlDQogICAgICB9LA0KICAgICAgY2xlYXIoKXsNCiAgICAgICAgICB0aGlzLnF1ZXJ5PScnDQogICAgICB9LA0KICAgICAgc2hvdygpew0KICAgICAgICAgIHRoaXMuc2hvd0ZsYWc9dHJ1ZQ0KICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmhpc3RvcnlMaXN0KQ0KICAgICAgICAgIHRoaXMucmVmcmVzaExpc3QoKQ0KICAgICAgfSwNCiAgICAgIHJlZnJlc2hMaXN0KCl7DQogICAgICAgICAgc2V0VGltZW91dCgoKT0+DQogICAgICAgICAgdGhpcy4kcmVmcy5zb25nbGlzdC5yZWZyZXNoKCksMjApDQogICAgICB9LA0KDQogIH0sDQogIGNyZWF0ZWQoKSB7DQoNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICAgIA0KICB9DQp9Ow0K"},{"version":3,"sources":["addSong.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA","file":"addSong.vue","sourceRoot":"src/components/addSong","sourcesContent":["<template>\r\n<div v-show=\"showFlag\" class=\"addtolist\" @click.stop>\r\n    <div class=\"header\">\r\n        <div>添加歌曲到列表</div>\r\n        <div @click=\"close\"><svg-icon  icon-class=\"close\" class-name=\"close\" ></svg-icon></div>\r\n    </div>\r\n    <div class=\"history\">\r\n        <svg-icon icon-class=\"search\" class-name=\"search\"></svg-icon>\r\n        <suggest v-show=\"query.length>0\" :showSinger='false' :perpage=\"20\" :query=\"query\"></suggest>        \r\n        <input ref=\"input\" v-model=\"query\" :placeholder=\"placeholder\" type=\"text\">\r\n        <div @click=\"clear\"><svg-icon  v-show=\"query\" icon-class=\"close\" class-name=\"dismiss\"></svg-icon></div>\r\n    </div>\r\n    <div v-show=\"query.length===0\">\r\n        <switches @switched=\"switched\" :switches=\"switches\" :currentIndex=\"currentIndex\"></switches>\r\n        <div class=\"list-wrapper\">\r\n           <scroll v-if=\"currentIndex===0\" ref=\"songlist\" :data=\"historyList\" class=\"historylist\"  >\r\n              <song-list :songs=\"historyList\"  @select=\"selectSong\" ></song-list>\r\n          </scroll>\r\n        <scroll v-if=\"currentIndex===1\" ref=\"search\" >\r\n\r\n        </scroll>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport SongList from 'base/song-list/song-list'\r\nimport {mapGetters,mapActions} from 'vuex'\r\nimport Scroll from 'base/scroll/scroll'\r\nimport Song from 'common/js/song'\r\nimport Switches from 'base/switches/switches'\r\nimport Suggest from 'base/suggest/suggest'\r\n\r\n\r\nexport default {\r\n  components: {\r\n      SongList,\r\n      Scroll,\r\n      Switches,\r\n      Suggest\r\n  },\r\n  props: {\r\n      placeholder:{\r\n          type:String,\r\n          default:'搜索歌曲、歌手',\r\n\r\n      }\r\n  },\r\n  data() {\r\n    return {\r\n        showFlag:false,\r\n        query:'',\r\n        currentIndex:0,\r\n        switches: [{name:'最近播放'},{name:'搜索历史'} ],\r\n        searchList:[]\r\n    };\r\n  },\r\n  watch: {},\r\n  computed: {\r\n      ...mapGetters(['historyList'])\r\n  },\r\n  methods: {\r\n      ...mapActions(['insertSong']),\r\n      selectSong(song){       \r\n          this.insertSong(song)\r\n      },\r\n      switched(index){\r\n          this.currentIndex=index\r\n      },\r\n      close(){\r\n          this.showFlag=false\r\n      },\r\n      clear(){\r\n          this.query=''\r\n      },\r\n      show(){\r\n          this.showFlag=true\r\n           console.log(this.historyList)\r\n          this.refreshList()\r\n      },\r\n      refreshList(){\r\n          setTimeout(()=>\r\n          this.$refs.songlist.refresh(),20)\r\n      },\r\n\r\n  },\r\n  created() {\r\n\r\n  },\r\n  mounted() {\r\n      \r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.addtolist{\r\n    position: absolute;\r\n    z-index: 400;\r\n    height: 100%;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    top: 0;\r\n    background-color: #191818;\r\n    padding: 10px 20px 0 20px;\r\n\r\n}\r\n.header{\r\n    display: flex;\r\n    font-size: 20px;\r\n    justify-content: center;\r\n    margin-bottom: 15px;\r\n}\r\n.close{\r\n    position: absolute;\r\n    right: 15px;\r\n} \r\n.history{\r\n    display: flex;\r\n    align-items: center;\r\n    height: 40px;\r\n    width: 100%;   \r\n    border-radius: 6px;\r\n    box-sizing: border-box;\r\n    background-color: #333;\r\n    margin:30px 0 20px 0;\r\n}\r\n\r\n.search{\r\n    font-size: 24px;\r\n    color: #222;\r\n}\r\ninput{\r\n    flex: 1;\r\n    margin: 0 5px;\r\n    background-color: #333;\r\n    color:#fff ;\r\n    font-size:14px ;\r\n    outline: 0;\r\n}\r\n.dismiss{\r\n    font-size: 16px;\r\n    color: #222;\r\n}\r\n.playhistory{\r\n    width: 100%;\r\n    margin-left:67px;\r\n}\r\n.playhistory span{\r\n    display: inline-block;\r\n    width: 100px ;\r\n    height: 30px;\r\n    text-align: center;\r\n    line-height: 30px;\r\n    border-radius: 5px;\r\n    border:1px solid #373a3a ; \r\n}\r\n.list-wrapper{\r\n    position: relative;\r\n    height: calc( 100vh - 80px) ;\r\n}\r\n.historylist{\r\n    top: 20px;\r\n    height: 100%;\r\n}\r\n</style>\r\n"]}]}