{"remainingRequest":"F:\\cjq\\my-music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\cjq\\my-music\\src\\base\\suggest\\suggest.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\cjq\\my-music\\src\\base\\suggest\\suggest.vue","mtime":1604497590674},{"path":"F:\\cjq\\my-music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\cjq\\my-music\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge3NlYXJjaFF1ZXJ5fSBmcm9tICdhcGkvc2VhcmNoJw0KaW1wb3J0IHtjcmVhdGVTb25nLHByb2Nlc3NTb25nc1VybH0gZnJvbSAnY29tbW9uL2pzL3NvbmcnDQppbXBvcnQge0VSUl9PS30gZnJvbSAnYXBpL2NvbmZpZyc7DQoNCg0KY29uc3QgU0lOR0VSPSdzaW5nZXInDQoNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7fSwNCiAgcHJvcHM6IHsNCiAgICBwZXJwYWdlOnsNCiAgICAgICAgdHlwZTpOdW1iZXIsDQogICAgICAgIGRlZmF1bGU6MjANCiAgICB9LA0KICAgIHNob3dTaW5nZXI6ew0KICAgICAgICB0eXBlOkJvb2xlYW4sDQogICAgICAgIGRlZmF1bHQ6ZmFsc2UNCiAgICB9LA0KICAgIHF1ZXJ5OnsNCiAgICAgICAgdHlwZTpTdHJpbmcsDQogICAgICAgIGRlZmF1bHQ6JycNCiAgICB9LA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAgIHBhZ2U6MSwNCiAgICB9Ow0KICB9LA0KICB3YXRjaDoge30sDQogIGNvbXB1dGVkOiB7fSwNCiAgbWV0aG9kczogew0KICAgICAgIF9zZWFyY2hRdWVyeSgpew0KICAgICAgICBzZWFyY2hRdWVyeSh0aGlzLnF1ZXJ5LHRoaXMucGFnZSwyMCx0cnVlKS50aGVuKChyZXMpPT57DQogICAgICAgICAgICBpZihyZXMuY29kZT09PUVSUl9PSyl7DQogICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hMaXN0PXRoaXMubm9ybWFsU2l6ZShyZXMuZGF0YSkNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlYXJjaExpc3QpDQogICAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9LA0KICAgICAgbm9ybWFsU2l6ZShkYXRhKXsNCiAgICAgICAgICBsZXQgYXJyPVtdDQogICAgICAgICAgaWYoZGF0YS56aGlkYSAmJiBkYXRhLnpoaWRhLnNpbmdlcmlkKXsNCiAgICAgICAgICBhcnIucHVzaCh7Li4uZGF0YS56aGlkYSwuLi57dHlwZTpTSU5HRVJ9fSkNCiAgICAgICAgICByZXR1cm4gYXJyDQogICAgICAgICAgfSAgICAgICANCiAgICAgICAgICBsZXQgcmV0PVtdDQogICAgICAgICAgbGV0IGxpc3Q9ZGF0YS5zb25nLmxpc3QNCiAgICAgICAgICBsaXN0LmZvckVhY2goKGl0ZW0pPT4gew0KICAgICAgICAgICAgcmV0LnB1c2goY3JlYXRlU29uZyhpdGVtKSkgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgIH0pDQogICAgICAgICAgcHJvY2Vzc1NvbmdzVXJsKHJldCkudGhlbigoc29uZ3MpPT57DQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFyci5jb25jYXQoc29uZ3MpICAgKQ0KIA0KICAgICAgICAgIH0pICAgICAgICAgICANCiAgICAgIH0sIA0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgICAgIHRoaXMuJHdhdGNoKCdxdWVyeScsKG5ld1F1ZXJ5KT0+ew0KICAgICAgICAgIGlmKG5ld1F1ZXJ5LnRyaW0oKS5sZW5ndGg9PT0wKXsNCiAgICAgICAgICAgICAgcmV0dXJuIA0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLl9zZWFyY2hRdWVyeSgpDQogICAgICAgIH0pICAgICANCiAgfSwNCiAgbW91bnRlZCgpIHt9DQp9Ow0K"},{"version":3,"sources":["suggest.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"suggest.vue","sourceRoot":"src/base/suggest","sourcesContent":["<template>\r\n<div>\r\n   <ul class=\"suggest-list\">\r\n      <li class=\"suggest-item\" >\r\n        <div class=\"icon\">\r\n          \r\n        </div>\r\n        <div class=\"name\">\r\n          <p class=\"text\"></p>\r\n        </div>\r\n      </li>\r\n    </ul>     \r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {searchQuery} from 'api/search'\r\nimport {createSong,processSongsUrl} from 'common/js/song'\r\nimport {ERR_OK} from 'api/config';\r\n\r\n\r\nconst SINGER='singer'\r\n\r\n\r\nexport default {\r\n  components: {},\r\n  props: {\r\n    perpage:{\r\n        type:Number,\r\n        defaule:20\r\n    },\r\n    showSinger:{\r\n        type:Boolean,\r\n        default:false\r\n    },\r\n    query:{\r\n        type:String,\r\n        default:''\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n        page:1,\r\n    };\r\n  },\r\n  watch: {},\r\n  computed: {},\r\n  methods: {\r\n       _searchQuery(){\r\n        searchQuery(this.query,this.page,20,true).then((res)=>{\r\n            if(res.code===ERR_OK){\r\n                this.searchList=this.normalSize(res.data)\r\n                console.log(this.searchList)\r\n            }\r\n        })\r\n      },\r\n      normalSize(data){\r\n          let arr=[]\r\n          if(data.zhida && data.zhida.singerid){\r\n          arr.push({...data.zhida,...{type:SINGER}})\r\n          return arr\r\n          }       \r\n          let ret=[]\r\n          let list=data.song.list\r\n          list.forEach((item)=> {\r\n            ret.push(createSong(item))                          \r\n          })\r\n          processSongsUrl(ret).then((songs)=>{\r\n              console.log(arr.concat(songs)   )\r\n \r\n          })           \r\n      }, \r\n  },\r\n  created() {\r\n       this.$watch('query',(newQuery)=>{\r\n          if(newQuery.trim().length===0){\r\n              return \r\n          }\r\n          this._searchQuery()\r\n        })     \r\n  },\r\n  mounted() {}\r\n};\r\n</script>\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\" type=\"text/stylus\">\r\n  @import \"~@/common/stylus/variable\"\r\n  @import \"~@/common/stylus/mixin\"\r\n\r\n  .suggest\r\n    height: 100%\r\n    overflow: hidden\r\n    .suggest-list\r\n      padding: 0 30px\r\n      .suggest-item\r\n        display: flex\r\n        align-items: center\r\n        padding-bottom: 20px\r\n      .icon\r\n        flex: 0 0 30px\r\n        width: 30px\r\n        [class^=\"icon-\"]\r\n          font-size: 14px\r\n          color: $color-text-d\r\n      .name\r\n        flex: 1\r\n        font-size: $font-size-medium\r\n        color: $color-text-d\r\n        overflow: hidden\r\n        .text\r\n          no-wrap()\r\n    .no-result-wrapper\r\n      position: absolute\r\n      width: 100%\r\n      top: 50%\r\n      transform: translateY(-50%)\r\n</style>\r\n"]}]}